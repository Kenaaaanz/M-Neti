<!-- templates/router/base_router.html -->
{% extends 'base.html' %}
{% load static %}

{% block page_title %}Router Settings - Cloud Connect{% endblock %}

{% block content %}
<div class="flex flex-col md:flex-row gap-6">
    <!-- Sidebar -->
    <div class="w-full md:w-64 bg-white rounded-xl shadow-sm p-4">
        <h3 class="font-semibold text-lg mb-4 text-gray-800">Router Management</h3>
        <ul class="space-y-2">
            <li>
                <a href="{% url 'router_settings' %}" class="flex items-center p-3 rounded-lg {% if tab == 'wifi-settings' %}bg-blue-50 text-blue-600 font-medium{% else %}text-gray-600 hover:bg-gray-50{% endif %}">
                    <i class="fas fa-wifi w-5 mr-3"></i>
                    <span>WiFi Settings</span>
                </a>
            </li>
            <li>
                <a href="{% url 'connected_devices' %}" class="flex items-center p-3 rounded-lg {% if tab == 'connected-devices' %}bg-blue-50 text-blue-600 font-medium{% else %}text-gray-600 hover:bg-gray-50{% endif %}">
                    <i class="fas fa-devices w-5 mr-3"></i>
                    <span>Connected Devices</span>
                </a>
            </li>
            <li>
                <a href="{% url 'security_settings' %}" class="flex items-center p-3 rounded-lg {% if tab == 'security' %}bg-blue-50 text-blue-600 font-medium{% else %}text-gray-600 hover:bg-gray-50{% endif %}">
                    <i class="fas fa-shield-alt w-5 mr-3"></i>
                    <span>Security</span>
                </a>
            </li>
            <li>
                <a href="{% url 'advanced_settings' %}" class="flex items-center p-3 rounded-lg {% if tab == 'advanced' %}bg-blue-50 text-blue-600 font-medium{% else %}text-gray-600 hover:bg-gray-50{% endif %}">
                    <i class="fas fa-cogs w-5 mr-3"></i>
                    <span>Advanced Settings</span>
                </a>
            </li>
            <li>
                <a href="{% url 'router_status' %}" class="flex items-center p-3 rounded-lg {% if tab == 'status' %}bg-blue-50 text-blue-600 font-medium{% else %}text-gray-600 hover:bg-gray-50{% endif %}">
                    <i class="fas fa-chart-bar w-5 mr-3"></i>
                    <span>Router Status</span>
                </a>
            </li>
            <li>
                <a href="{% url 'guest_network' %}" class="flex items-center p-3 rounded-lg {% if tab == 'guest-network' %}bg-blue-50 text-blue-600 font-medium{% else %}text-gray-600 hover:bg-gray-50{% endif %}">
                    <i class="fas fa-users w-5 mr-3"></i>
                    <span>Guest Network</span>
                </a>
            </li>
            <li>
                <a href="{% url 'firmware_update' %}" class="flex items-center p-3 rounded-lg {% if tab == 'firmware' %}bg-blue-50 text-blue-600 font-medium{% else %}text-gray-600 hover:bg-gray-50{% endif %}">
                    <i class="fas fa-microchip w-5 mr-3"></i>
                    <span>Firmware</span>
                </a>
            </li>
            <li>
                <a href="{% url 'parental_controls' %}" class="flex items-center p-3 rounded-lg {% if tab == 'parental-controls' %}bg-blue-50 text-blue-600 font-medium{% else %}text-gray-600 hover:bg-gray-50{% endif %}">
                    <i class="fas fa-child w-5 mr-3"></i>
                    <span>Parental Controls</span>
                </a>
            </li>
        </ul>

        <!-- Router Status Card -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg">
            <h4 class="font-medium text-gray-700 mb-2">Router Status</h4>
            <div class="flex items-center mb-2">
                <div class="w-3 h-3 rounded-full {% if router.is_online %}bg-green-500{% else %}bg-red-500{% endif %} mr-2"></div>
                <span class="text-sm">{% if router.is_online %}Online{% else %}Offline{% endif %}</span>
            </div>
            <div class="text-xs text-gray-500">
                Last seen: {{ router.last_seen|timesince }} ago
            </div>
            <div class="mt-3 space-y-2">
                <a href="{% url 'reboot_router' %}" class="w-full block text-center py-2 px-3 bg-gray-200 text-gray-700 text-sm rounded-md hover:bg-gray-300">
                    <i class="fas fa-power-off mr-1"></i> Reboot Router
                </a>
                {% if router.security_status == 'Poor' or router.security_status == 'Fair' %}
                <div class="p-2 bg-yellow-50 text-yellow-700 text-xs rounded border border-yellow-200">
                    <i class="fas fa-exclamation-triangle mr-1"></i> Security: {{ router.security_status }}
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="flex-1">
        {% block router_content %}
        {% endblock %}
    </div>
</div>
{% endblock %}